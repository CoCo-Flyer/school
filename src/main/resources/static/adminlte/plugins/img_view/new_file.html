<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>html5实现上传</title>
    <link rel="stylesheet" href="main.css" />
    
</head>
<body>
    <div id = "result"></div>
    <input id="pic" type="file" name = 'pic' accept = "image/*" onchange = "selectFile()"/>
    <!-- <button onclick = "handIn()">提交</button> -->
	
</body>
<script>
	var form = new FormData();//通过HTML表单创建FormData对象
	var url = '127.0.0.1:8080/'
	function selectFile(){
	    var files = document.getElementById('pic').files;
	    console.log(files[0]);
	    if(files.length == 0){
	        return;
	    }
	    var file = files[0];
	    //把上传的图片显示出来
	    var reader = new FileReader();
	    // 将文件以Data URL形式进行读入页面
	    console.log(reader);
	    reader.readAsBinaryString(file);
	    reader.onload = function(f){
	        var result = document.getElementById("result");
	        var src = "data:" + file.type + ";base64," + window.btoa(this.result);
	        result.innerHTML = '<img src ="'+src+'"/>';
	    }
	    console.log('file',file);
	    ///////////////////
	    form.append('file',file);
	    console.log(form.get('file'));
	}
</script>
</html>